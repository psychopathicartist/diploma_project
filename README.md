# Платформа для публикации платного контейнта

### Задача

Реализовать платформу для публикации записей пользователями. 
Публикация может быть бесплатной, то есть доступной любому пользователю без регистрации, либо платной, которая доступна только авторизованным пользователям, который оплатили разовую подписку. 
Для реализации оплаты подписки используйте Stripe. Р
егистрация пользователя должна быть по номеру телефона.

> Для удобства работы с проектом в корне проекта есть файл-помощник для описания переменных окружения .env.sample.

Основная навигация по сайту осуществляется через меню. 
На главной странице представлена основная информация о сервисе и его статистика.
Даже неавторизованный пользователь может читать бесплатные публикации.
Авторизованные пользователи могут также создавать публикации, редактивать их и удалять.
При покупке платной подписки пользовательполучает возможность создавать и читать платный контент.

### Подготовка
* Клонировать репозиторий через **git clone**
* Внести настройки в файл **.env**, для заполнения опирайтесь на файл **.env.sample**
* Выбрать интерпритатор **poetry** и активировать через команду **poetry shell**
* Установить зависимости проекта с помощью **poetry install**
* Создать и применить миграции через **makemigrations** и **migrate**

### Запуск через Docker
* docker-compose up -d --build
> Данные для тестирования автоматически добавляются из фикстур, 
> если в этом нет необходимости, то можно убрать строку && python3 manage.py loaddata fixtures/all_data.json из yaml файла

### Приложения проекта
* **Content** для создания и работы с публикациями. Содержит модель публикации.
* **Users** для работы с пользователями. Содержит модель пользователя.

### Тесты
Отчет покрытия тестами (_report.txt_)

### Stripe
Для осуществления оплаты подписки реализована интеграция со Stripe. 
Чтобы начать пользоваться ею, вам необходимо заполнить в .env поле STRIPE_API - ваш секретный API ключ.
> https://docs.stripe.com/api

### SmsAero
Для осуществления верификации номера телефона пользователя при регистрации реализована интеграция с SmsAero.
Чтобы начать пользоваться ею, вам необходимо заполнить в .env SMSAERO_EMAIL и SMSAERO_API_KEY.
> https://smsaero.ru/integration/class/python/
